<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar</title>
    <link rel="stylesheet" type="text/css" href="estilo.css">
</head>
<body>
    <div class="modal" onclick="modal()">
        
    </div>
    <div class="container">
        <div class="row-title">
            <h2 id="titulo">Cadastro de Clientes</h2>
        </div>

        <form>
            <div class="label">
                <label>Nome:</label>
                <label>CPF:</label>
                <label>E-mail:</label>
                <label>Telefone:</label>
                <label>Data de Nascimento:</label>
            </div>
                
        <div class="inputs">    
            <input type="text" name="nome" placeholder="Nome" maxlength="60">
            <input type="text" name="cpf" placeholder="CPF" maxlength="11" oninput="criaMascara('CPF')">
            <input type="email" name="email" placeholder="E-mail" maxlength="60">
            <input type="text" name="telefone" placeholder="Telefone" maxlength="11" oninput="criaMascara('Celular')">
            <input type="date" name="dNascimento" placeholder="Data de Nascimento" maxlength="20">
        </div>
        </form>
        <div>
            <button class="btn-cadastrar" type="submit">Cadastrar</button>
            <button class="btn-cadastrar" type="submit">Visualizar Clientes</button>
        </div>
    </div>
</body>

<script>
    function criaMascara(mascaraInput) {
        const maximoInput = document.getElementById(`${mascaraInput}Input`).maxLength;
        let valorInput = document.getElementById(`${mascaraInput}Input`).value;
        let valorSemPonto = document.getElementById(`${mascaraInput}Input`).value.replace(/([^0-9])+/g, "");

        const mascaras = {
            CPF: valorInput.replace(/[^\d]/g, "").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4"),
            Celular: valorInput.replace(/[^\d]/g, "").replace(/^(\d{2})(\d{5})(\d{4})/, "($1) $2-$3")
        };

        valorInput.length === maximoInput ? document.getElementById(`${mascaraInput}Input`).value = mascaras[mascaraInput]
            : document.getElementById(`${mascaraInput}Input`).value = valorSemPonto;
        };

        function modal(){
            const modal = document.getElementsByClassName('modal');
            
            modal.style.display = "block";
        }
</script>
</html>
